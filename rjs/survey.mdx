---
title: 'Survey Constructor'
description: ''
---

The Survey constructor is your starting point for creating a new survey in **RoundtableJS**.

### Basic Usage

```javascript
import Survey from 'roundtable-js/core/survey.js';

const mySurvey = new Survey({
    participantId: 'user123',
    condition: 'experimental'
});
```

The Survey constructor accepts a single optional parameter that stores any metadata and custom styles.

<ParamField body="customSurveyDetails" type="object">
  An object containing custom details and styles for the survey.
</ParamField>

#### Example Custom Survey Details

<ParamField body="participantId" type="string">
  A unique identifier for the survey participant.
</ParamField>

<ParamField body="condition" type="string">
  The experimental condition or group for the survey.
</ParamField>

<ParamField body="styles" type="object">
  Custom styles to be applied globally to the survey.
</ParamField>

### Styling

<Tip>Good styling is an underrated way to enhance the participant experience</Tip>

The Survey constructor allows you to define global styles that will be applied to the entire survey. 

```javascript
const mySurvey = new Survey({
    styles: {
        body: {
            fontFamily: 'Arial, sans-serif',
            backgroundColor: '#f7f7f7'
        },
        container: {
            maxWidth: '700px',
            boxShadow: '0 0 10px rgba(0,0,0,0.1)'
        },
        button: {
            backgroundColor: '#333',
            color: '#ffffff'
        }
    }
});
```

These styles can be overridden by individual question styles.

#### Available Style Keys

- `body`: Styles for the survey body
- `container`: Styles for the main survey container
- `question`: Styles applied to all question containers
- `button`: Styles for survey navigation buttons
- `errorMessage`: Styles for error messages
- `nextButtonError`: Styles for the error message next to the 'Next' button

For details on the styling syntax that **RoundtableJS** follows, consult our [Styling](styling) page.

---

### Methods

After creating a Survey instance, you can use various methods to interact with it:

<ParamField path="setSurveyDetail" type="function">
  Set a custom survey detail.

  Parameters:
  - `key` (string): The key for the survey detail
  - `value` (any): The value to set for the survey detail

  ```javascript
  survey.setSurveyDetail('language', 'en-US');
  ```
</ParamField>

<ParamField path="getSurveyDetail" type="function">
  Retrieve a custom survey detail.

  Parameters:
  - `key` (string): The key of the survey detail to retrieve

  Returns:
  - The value of the specified survey detail

  ```javascript
  const language = survey.getSurveyDetail('language');
  ```
</ParamField>

<ParamField path="showPage" type="function">
  Display a specific page of the survey.

  Parameters:
  - `page` (object): The page object to display

  Returns:
  - A Promise that resolves when the page is completed

  ```javascript
  await survey.showPage({ id: 'page1', elements: [question1, question2] });
  ```
</ParamField>

<ParamField path="finishSurvey" type="function">
  Complete the survey and display a finishing message.

  Parameters:
  - `options` (object): An object containing the finishing options
    - `message` (string): The message to display upon survey completion

  ```javascript
  survey.finishSurvey({ message: 'Thank you for completing the survey!' });
  ```
</ParamField>

<ParamField path="getResponse" type="function">
  Retrieve the most recent response for a specific question.

  Parameters:
  - `questionId` (string): The ID of the question

  Returns:
  - The most recent response for the specified question, or null if not found

  ```javascript
  const response = survey.getResponse('age');
  ```
</ParamField>

<ParamField path="getAllResponses" type="function">
  Retrieve all responses collected in the survey.

  Returns:
  - An array of all response objects

  ```javascript
  const allResponses = survey.getAllResponses();
  ```
</ParamField>

<ParamField path="getAllSurveyData" type="function">
  Retrieve all survey data, including survey details and responses.

  Returns:
  - An object containing surveyDetails and responses

  ```javascript
  const surveyData = survey.getAllSurveyData();
  ```
</ParamField>