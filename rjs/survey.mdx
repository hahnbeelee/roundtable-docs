---
title: 'Survey Constructor'
description: ''
---

The Survey constructor is your starting point for creating a new survey in **RoundtableJS**.

### Basic Usage

```javascript
import Survey from 'roundtable-js/core/survey.js';

const mySurvey = new Survey({
    participantId: 'user123',
    condition: 'experimental'
});
```

The Survey constructor accepts a single optional parameter that stores any metadata and custom styles.

#### customSurveyDetails

An object containing custom details and styles for the survey.

**Example Custom Survey Details**

- `participantId` (string): A unique identifier for the survey participant.
- `condition` (string): The experimental condition or group for the survey.
- `styles` (object): Custom styles to be applied globally to the survey.

### Styling

<Tip>Good styling is an underrated way to enhance the participant experience</Tip>

The Survey constructor allows you to define global styles that will be applied to the entire survey. 

```javascript
const mySurvey = new Survey({
    styles: {
        body: {
            fontFamily: 'Arial, sans-serif',
            backgroundColor: '#f7f7f7'
        },
        container: {
            maxWidth: '700px',
            boxShadow: '0 0 10px rgba(0,0,0,0.1)'
        },
        button: {
            backgroundColor: '#333',
            color: '#ffffff'
        }
    }
});
```

These styles can be overridden by individual element styles.

#### Available Style Keys

- `body`: Styles for the survey body
- `container`: Styles for the main survey container
- `navigation`: Styles for the navigation container
- `button`: Styles for survey navigation buttons
- `errorMessage`: Styles for error messages
- `nextButtonError`: Styles for the error message next to the 'Next' button
- `finishMessage`: Styles for the survey completion message

For details on the styling syntax that **RoundtableJS** follows, consult our [Styling](styling) page.

### Methods

After creating a Survey instance, you can use various methods to interact with it:

#### setSurveyDetail(key, value)

Set a custom survey detail.

- Parameters:
  - `key` (string): The key for the survey detail
  - `value` (any): The value to set for the survey detail

```javascript
survey.setSurveyDetail('language', 'en-US');
```

#### getSurveyDetail(key)

Retrieve a custom survey detail.

- Parameters:
  - `key` (string): The key of the survey detail to retrieve
- Returns:
  - The value of the specified survey detail

```javascript
const language = survey.getSurveyDetail('language');
```

#### showPage(page)

Display a specific page of the survey.

- Parameters:
  - `page` (object): The page object to display
- Returns:
  - A Promise that resolves when the page is completed

```javascript
await survey.showPage({ id: 'page1', elements: [question1, question2] });
```

#### finishSurvey(options)

Complete the survey and display a finishing message.

- Parameters:
  - `options` (object): An object containing the finishing options
    - `message` (string): The message to display upon survey completion

```javascript
survey.finishSurvey({ message: 'Thank you for completing the survey!' });
```

#### getResponse(questionId)

Retrieve the most recent response for a specific question.

- Parameters:
  - `questionId` (string): The ID of the question
- Returns:
  - The most recent response for the specified question, or null if not found

```javascript
const response = survey.getResponse('age');
```

#### getAllResponses()

Retrieve all responses collected in the survey.

- Returns:
  - An array of all response objects

```javascript
const allResponses = survey.getAllResponses();
```

#### getAllSurveyData()

Retrieve all survey data, including survey details and responses.

- Returns:
  - An object containing surveyDetails and responses

```javascript
const surveyData = survey.getAllSurveyData();
```